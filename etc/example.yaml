%YAML 1.2
---
Application:
    debug: True
    xsrf_cookies: False
    whitelist:
      - 10.0.0.0/8
      - 192.168.1.0/24
      - 1.2.3.4/32

HTTPServer:
    no_keep_alive: False
    ports: [8000]
    xheaders: True

Logging:
  loggers:
    tinman:
      level: INFO
      propagate: True
  filters:
    tinman: tinman
    myapp: myapp.handlers
  formatters:
    verbose:
      format: "%(levelname) -10s %(asctime)s %(name) -30s %(funcName) -25s: %(message)s"
    syslog:
      format: "%(levelname)s <PID %(process)d:%(processName)s> %(name).%(funcName)s: %(message)s"
  handlers:
    console:
      class: logging.StreamHandler
      formatter: verbose
      debug_only: True
      filters:
        - myapp
        - tinman
      level: DEBUG
    file:
      filename: /var/log/tinman.log
      class: logging.RotatingFileHandler
      mode: a
      maxBytes: 104857600
      backupCount: 6
      encoding: UTF-8
      delay: False
      formatter: verbose
      filters:
        - myapp
        - tinman
    syslog:
      class: logging.handlers.SysLogHandler
      facility: local6
      address: /var/run/syslog
      formatter: syslog
      level: INFO
      filters:
        - myapp
        - tinman

# As of 0.2.1 having this automatically creates a RabbitMQ connection for your tinman app
# It is exposed as application.tinman.rabbitmq
RabbitMQ:
    host: localhost
    port: 5672
    username: guest
    password: guest
    virtual_host: /

# Route / Request Handler mapping
# New format includes better support for complex regex where previous would break YAML's sequence format
Routes:

  # Homepage
  -
    - /
    - test.example.Home

 # Auto-generated pixel using the regex supported syntax, put re before the URI regex in the list
 -
    # /c1f1-7c5d9e0f.gif
    - re
    - /(c[a-f0-9]f[a-f0-9]{1,3}-[a-f0-9]{8}).gif
    - test.example.Pixel

 # Any URL not matched up to this point
 -
    - .*
    - tornado.web.RedirectHandler
    - {"url": "http://www.github.com"}
